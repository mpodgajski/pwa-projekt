<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Žalba upravi vodovoda</title>
    <style>
        .form-item {
            margin-bottom: 15px;
        }
        .form-field {
            margin-top: 5px;
        }
        .form-field-textual {
            width: 100%;
            padding: 8px;
        }
        .bojaPoruke {
            color: red;
            font-size: 14px;
        }
        .success {
            border: 1px solid green;
        }
        .error {
            border: 1px dashed red;
        }
    </style>
</head>
<body>
    <h1>Podnošenje Žalbi</h1>
    <form enctype="multipart/form-data" action="submit_complaint.php" method="POST" id="complaintForm">
        <div class="form-item">
            <span id="porukaIme" class="bojaPoruke"></span>
            <label for="ime">Ime i prezime</label>
            <div class="form-field">
                <input type="text" name="ime" id="ime" class="form-field-textual">
            </div>
        </div>
        <div class="form-item">
            <span id="porukaAdresa" class="bojaPoruke"></span>
            <label for="adresa">Adresa</label>
            <div class="form-field">
                <input type="text" name="adresa" id="adresa" class="form-field-textual">
            </div>
        </div>
        <div class="form-item">
            <span id="porukaEmail" class="bojaPoruke"></span>
            <label for="email">Email</label>
            <div class="form-field">
                <input type="email" name="email" id="email" class="form-field-textual">
            </div>
        </div>
        <div class="form-item">
            <span id="porukaZalba" class="bojaPoruke"></span>
            <label for="zalba">Sadržaj žalbe</label>
            <div class="form-field">
                <textarea name="zalba" id="zalba" cols="30" rows="10" class="form-field-textual"></textarea>
            </div>
        </div>
        <div class="form-item">
            <button type="reset" value="Poništi">Poništi</button>
            <button type="submit" value="Prihvati" id="slanje">Prihvati</button>
        </div>
    </form>

    <script type="text/javascript">
        document.getElementById("slanje").onclick = function(event) {
            var slanjeForme = true;

            // Provjera imena i prezimena (2-50 znakova)
            var poljeIme = document.getElementById("ime");
            var ime = poljeIme.value;
            if (ime.length < 2 || ime.length > 50) {
                slanjeForme = false;
                poljeIme.classList.add("error");
                document.getElementById("porukaIme").innerHTML = "Ime i prezime mora imati između 2 i 50 znakova!<br>";
            } else {
                poljeIme.classList.remove("error");
                poljeIme.classList.add("success");
                document.getElementById("porukaIme").innerHTML = "";
            }

            // Provjera adrese (5-100 znakova)
            var poljeAdresa = document.getElementById("adresa");
            var adresa = poljeAdresa.value;
            if (adresa.length < 5 || adresa.length > 100) {
                slanjeForme = false;
                poljeAdresa.classList.add("error");
                document.getElementById("porukaAdresa").innerHTML = "Adresa mora imati između 5 i 100 znakova!<br>";
            } else {
                poljeAdresa.classList.remove("error");
                poljeAdresa.classList.add("success");
                document.getElementById("porukaAdresa").innerHTML = "";
            }

            // Provjera emaila (ne smije biti prazan)
            var poljeEmail = document.getElementById("email");
            var email = poljeEmail.value;
            if (email.length == 0) {
                slanjeForme = false;
                poljeEmail.classList.add("error");
                document.getElementById("porukaEmail").innerHTML = "Email mora biti unesen!<br>";
            } else {
                poljeEmail.classList.remove("error");
                poljeEmail.classList.add("success");
                document.getElementById("porukaEmail").innerHTML = "";
            }

            // Provjera sadržaja žalbe (10-500 znakova)
            var poljeZalba = document.getElementById("zalba");
            var zalba = poljeZalba.value;
            if (zalba.length < 10 || zalba.length > 500) {
                slanjeForme = false;
                poljeZalba.classList.add("error");
                document.getElementById("porukaZalba").innerHTML = "Sadržaj žalbe mora imati između 10 i 500 znakova!<br>";
            } else {
                poljeZalba.classList.remove("error");
                poljeZalba.classList.add("success");
                document.getElementById("porukaZalba").innerHTML = "";
            }

            if (!slanjeForme) {
                event.preventDefault();
            }
        };
    </script>
</body>
</html>